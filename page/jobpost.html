<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>ì±„ìš©ê³µê³ </title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
      }

      footer {
        background-color: black;
        color: white;
        padding: 10px 20px;
        text-align: center;
        position: fixed;
        bottom: 0;
        width: 100%;
      }

      .container {
        display: grid;
        grid-template-columns: 1fr;
        gap: 10px;
        max-width: 80%;
        margin: 30px;
      }

      .card {
        border: 1px solid lightgray;
        box-shadow: 0 4px 4px 0 grey;
        padding: 10px;
        margin: 5px;
        border-radius: 5px;
        cursor: pointer;
        position: relative;
      }
      .select-box {
        border: 1px solid black;
        background-color: lightgrey;
        padding: 10px;
      }

      .like-icon {
        position: absolute;
        top: 10px;
        right: 10px;
        color: #555;
        cursor: pointer;
      }

      .like-icon.active {
        color: red;
      }

      .checkbox {
        margin-right: 5px;
      }

      .fixed-div {
        position: fixed;
        top: 50%;
        right: 3%;
        transform: translateY(-50%);
        border: 1px solid black;
        background-color: lightgray;
        padding: 10px;
        width: 10%;
        height: 66%;
        margin: 30px auto;
      }
    </style>
  </head>

  <body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">ì‚¬ì´íŠ¸ì´ë¦„/ë¡œê³ </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#collapsibleNavbar"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
          <ul class="navbar-nav">
            <!-- ë¡œê·¸ì¸ì•ˆí•˜ê³  ë³¼ ìˆ˜ ìˆëŠ” í—¤ë” -->

            <li class="nav-item">
              <a class="nav-link" href="">ì±„ìš©ê³µê³ </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="">ììœ ê²Œì‹œíŒ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="">íšŒì›ê°€ì…</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="">ë¡œê·¸ì¸</a>
            </li>
          </ul>
        </div>

        <div>
          <form class="d-flex">
            <input class="form-control me-2" type="text" placeholder="ğŸ”" />
            <button class="btn btn-primary">ê²€ìƒ‰</button>
          </form>
        </div>
      </div>
    </nav>
    <h4 style="text-align: left; margin-left: 20px; margin-top: 20px">
      ì´ <span id="totalJobs">00</span>ê±´ì˜ ê³µê³ 
    </h4>

    <div class="container" id="container">
      <div class="select-box">
        <h4>ê¸°ìˆ ìŠ¤íƒ</h4>
        <input type="checkbox" class="checkbox" value="JAVA" /> JAVA
        <input type="checkbox" class="checkbox" value="HTML" /> HTML
        <input type="checkbox" class="checkbox" value="CSS" /> CSS
        <br />
        <h4>ê²½ë ¥</h4>
        <input type="checkbox" class="checkbox" value="ì‹ ì…" /> ì‹ ì…
        <input type="checkbox" class="checkbox" value="ê²½ë ¥" /> ê²½ë ¥
        <input type="checkbox" class="checkbox" value="ì£¼ë‹ˆì–´" /> ì£¼ë‹ˆì–´
        <br />
        <h4>ì§€ì—­</h4>
        <input type="checkbox" class="checkbox" value="ì„œìš¸" /> ì„œìš¸
        <input type="checkbox" class="checkbox" value="ê²½ê¸°" /> ê²½ê¸°
        <input type="checkbox" class="checkbox" value="ì¸ì²œ" /> ì¸ì²œ

        <h4>í•™ë ¥</h4>
        <input type="checkbox" class="checkbox" value="ê³ ì¡¸" /> ê³ ì¡¸
        <input type="checkbox" class="checkbox" value="ëŒ€ì¡¸" /> ëŒ€ì¡¸
        <input type="checkbox" class="checkbox" value="ì„ì‚¬" /> ì„ì‚¬
        <h4>ì—°ë´‰</h4>
        <input type="checkbox" class="checkbox" value="3,000ë§Œì› ì´í•˜" />
        3,000ë§Œì› ì´í•˜
        <input type="checkbox" class="checkbox" value="3,000ë§Œì› ~ 5,000ë§Œì›" />
        3,000ë§Œì› ~ 5,000ë§Œì›
        <input type="checkbox" class="checkbox" value="5,000ë§Œì› ì´ìƒ" />
        5,000ë§Œì› ì´ìƒ
        <h4>ì§ë¬´</h4>
        <input type="checkbox" class="checkbox" value="ê°œë°œ" /> ê°œë°œ
        <input type="checkbox" class="checkbox" value="ë””ìì¸" /> ë””ìì¸
        <input type="checkbox" class="checkbox" value="ë§ˆì¼€íŒ…" /> ë§ˆì¼€íŒ…
        <h4>ê³ ìš©í˜•íƒœ</h4>
        <input type="checkbox" class="checkbox" value="ì •ê·œì§" /> ì •ê·œì§
        <input type="checkbox" class="checkbox" value="ê³„ì•½ì§" /> ê³„ì•½ì§
        <input type="checkbox" class="checkbox" value="ì¸í„´" /> ì¸í„´
        <br />
        <button class="btn btn-primary" onclick="applyFilters()">
          í•„í„° ì ìš©í•˜ê¸°
        </button>
      </div>

      <div class="fixed-div">ê³ ì •ëœ div</div>

      <div class="card" data-tech="JAVA" data-exp="ì‹ ì…" data-location="ì„œìš¸">
        <h3>íšŒì‚¬ëª…</h3>
        <h4>ì œëª©(ì§ë¬´)</h4>
        <p><small>ì§€ì—­</small> <small>ê²½ë ¥</small> <small>í•™ë ¥</small></p>
        <p><small>ë§ˆê°ë‚ ì§œ</small></p>
        <span class="like-icon" onclick="toggleHeart(this)">&#10084;</span>
      </div>

      <div class="card" data-tech="HTML" data-exp="ê²½ë ¥" data-location="ê²½ê¸°">
        <h3>íšŒì‚¬ëª…</h3>
        <h4>ì œëª©(ì§ë¬´)</h4>
        <p><small>ì§€ì—­</small> <small>ê²½ë ¥</small> <small>í•™ë ¥</small></p>
        <p><small>ë§ˆê°ë‚ ì§œ</small></p>
        <span class="like-icon" onclick="toggleHeart(this)">&#10084;</span>
      </div>

      <div class="card" data-tech="CSS" data-exp="ì£¼ë‹ˆì–´" data-location="ì¸ì²œ">
        <h3>íšŒì‚¬ëª…</h3>
        <h4>ì œëª©(ì§ë¬´)</h4>
        <p><small>ì§€ì—­</small> <small>ê²½ë ¥</small> <small>í•™ë ¥</small></p>
        <p><small>ë§ˆê°ë‚ ì§œ</small></p>
        <span class="like-icon" onclick="toggleHeart(this)">&#10084;</span>
      </div>
    </div>

    <footer>
      <p>footer</p>
    </footer>
    <script>
      const toggleHeart = (icon) => {
        icon.classList.toggle("active");
      };

      const goToDetailPage = (cardNumber) => {
        console.log("Go to detail page of card " + cardNumber);
      };

      const getRecentJobs = () => {
        const recentJobs = localStorage.getItem("recentJobs");
        if (recentJobs) {
          document.getElementById("recentJobs").innerHTML = recentJobs;
        }
      };

      const applyFilters = () => {
        const checkboxes = document.querySelectorAll(".checkbox");
        const selectedFilters = {};

        // í•„í„°ë§ì´ ì„ íƒë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê³ , ì„ íƒëœ í•„í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
        checkboxes.forEach((checkbox) => {
          const category = checkbox.value;
          selectedFilters[category] = checkbox.checked;
        });

        const cards = document.querySelectorAll(".card");
        cards.forEach((card) => {
          const tech = card.dataset.tech;
          const exp = card.dataset.exp;
          const location = card.dataset.location;

          // ì„ íƒëœ í•„í„°ê°€ ì—†ëŠ” ê²½ìš° ëª¨ë“  ì¹´ë“œë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
          if (Object.values(selectedFilters).every((value) => !value)) {
            card.style.display = "block";
          } else {
            // ì„ íƒëœ í•„í„°ì™€ ì¹´ë“œì˜ ë°ì´í„° ì†ì„±ì„ ë¹„êµí•˜ì—¬ í•„í„°ë§ì„ ì ìš©í•©ë‹ˆë‹¤.
            const techFilter = !selectedFilters[tech] || selectedFilters[tech];
            const expFilter = !selectedFilters[exp] || selectedFilters[exp];
            const locationFilter =
              !selectedFilters[location] || selectedFilters[location];

            // ëª¨ë“  ì„ íƒëœ í•„í„°ì— í•´ë‹¹í•˜ëŠ” ì¹´ë“œë§Œ ë³´ì—¬ì¤ë‹ˆë‹¤.
            if (techFilter && expFilter && locationFilter) {
              card.style.display = "block";
            } else {
              card.style.display = "none";
            }
          }
        });

        // ì´ ê³µê³  ê±´ìˆ˜ ì—…ë°ì´íŠ¸
        updateTotalJobsCount();
      };

      const updateTotalJobsCount = () => {
        const totalJobsCount = document.querySelectorAll(".card").length;
        document.getElementById("totalJobs").textContent = totalJobsCount;
      };

      window.onload = () => {
        updateTotalJobsCount();
        getRecentJobs();
      };
    </script>
  </body>
</html>
